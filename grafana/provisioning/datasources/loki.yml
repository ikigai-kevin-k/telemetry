apiVersion: 1

datasources:
  - name: Loki
    type: loki
    access: proxy
    url: http://loki:3100  # Use service name for internal Docker network
    isDefault: false
    editable: true
    
  # Dedicated datasource for ARO-001-1 SDP logs with specific configuration
  - name: Loki-ARO-001-1-SDP
    type: loki
    access: proxy
    url: http://loki:3100
    isDefault: false
    editable: true
    jsonData:
      # Default query settings for ARO-001-1 SDP logs
      derivedFields:
        - name: "Timestamp"
          matcherRegex: "\\[([0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}\\.[0-9]{3})\\]"
          url: ""
        - name: "Direction"
          matcherRegex: "\\] (Receive|Send|WebSocket) "
          url: ""
      # Pre-configured filters for SDP logs
      maxLines: 5000
      timeout: "30s"
    # Default query for ARO-001-1 SDP logs
    uid: loki-aro-001-1-sdp