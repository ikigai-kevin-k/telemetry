# Zabbix Alert Thresholds Configuration
# This file defines the alert thresholds for system monitoring
# These values can be used to configure Zabbix triggers and alerts

# CPU Monitoring Thresholds
CPU_WARNING_THRESHOLD=80          # CPU usage warning threshold (%)
CPU_CRITICAL_THRESHOLD=90         # CPU usage critical threshold (%)
CPU_LOAD_WARNING_MULTIPLIER=2     # Load average warning (CPU cores * multiplier)
CPU_LOAD_CRITICAL_MULTIPLIER=3    # Load average critical (CPU cores * multiplier)

# Memory Monitoring Thresholds
MEMORY_WARNING_THRESHOLD=80       # Memory usage warning threshold (%)
MEMORY_CRITICAL_THRESHOLD=90      # Memory usage critical threshold (%)
SWAP_WARNING_THRESHOLD=60         # Swap usage warning threshold (%)
SWAP_CRITICAL_THRESHOLD=80        # Swap usage critical threshold (%)

# Disk Monitoring Thresholds
DISK_WARNING_THRESHOLD=80         # Disk usage warning threshold (%)
DISK_CRITICAL_THRESHOLD=90        # Disk usage critical threshold (%)
DISK_INODE_WARNING_THRESHOLD=80   # Inode usage warning threshold (%)
DISK_INODE_CRITICAL_THRESHOLD=90  # Inode usage critical threshold (%)

# Temperature Monitoring Thresholds
TEMP_WARNING_THRESHOLD=70         # Temperature warning threshold (¬∞C)
TEMP_CRITICAL_THRESHOLD=80        # Temperature critical threshold (¬∞C)

# Power Monitoring Thresholds
BATTERY_WARNING_THRESHOLD=20      # Battery charge warning threshold (%)
BATTERY_CRITICAL_THRESHOLD=10     # Battery charge critical threshold (%)
UPS_RUNTIME_WARNING_MINUTES=30    # UPS runtime warning threshold (minutes)
UPS_RUNTIME_CRITICAL_MINUTES=10   # UPS runtime critical threshold (minutes)

# Network Monitoring Thresholds
NETWORK_TIMEOUT_SECONDS=5         # Network connectivity timeout (seconds)
PACKET_LOSS_WARNING_THRESHOLD=5   # Packet loss warning threshold (%)
PACKET_LOSS_CRITICAL_THRESHOLD=10 # Packet loss critical threshold (%)

# System Health Thresholds
HEALTH_SCORE_WARNING=70           # System health score warning threshold
HEALTH_SCORE_CRITICAL=50          # System health score critical threshold
SERVICE_FAILURE_THRESHOLD=1       # Number of failed critical services
LOG_ERROR_THRESHOLD=20            # Number of errors in logs (per hour)

# Alert Frequency Settings
ALERT_COOLDOWN_MINUTES=15         # Minimum time between alerts (minutes)
ALERT_ESCALATION_MINUTES=30       # Time before escalating alerts (minutes)
MAX_ALERTS_PER_HOUR=10            # Maximum number of alerts per hour

# Notification Settings
EMAIL_RECIPIENTS="admin@example.com,ops@example.com"
SMS_RECIPIENTS="+1234567890"
SLACK_WEBHOOK_URL="https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK"
DISCORD_WEBHOOK_URL="https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK"

# Alert Severity Levels
SEVERITY_INFO=0
SEVERITY_WARNING=1
SEVERITY_AVERAGE=2
SEVERITY_HIGH=3
SEVERITY_DISASTER=4

# Zabbix Trigger Expressions
# These can be used directly in Zabbix trigger configuration

# CPU Triggers
CPU_HIGH_USAGE="last(/kevin-telemetry-zabbix-agent/system.cpu.usage)>80"
CPU_CRITICAL_USAGE="last(/kevin-telemetry-zabbix-agent/system.cpu.usage)>90"
CPU_HIGH_LOAD="last(/kevin-telemetry-zabbix-agent/system.high.load)=1"

# Memory Triggers
MEMORY_HIGH_USAGE="last(/kevin-telemetry-zabbix-agent/system.memory.usage)>80"
MEMORY_CRITICAL_USAGE="last(/kevin-telemetry-zabbix-agent/system.memory.usage)>90"
MEMORY_WARNING_STATUS="last(/kevin-telemetry-zabbix-agent/system.memory.warning)>0"

# Disk Triggers
DISK_HIGH_USAGE="last(/kevin-telemetry-zabbix-agent/system.disk.usage)>80"
DISK_CRITICAL_USAGE="last(/kevin-telemetry-zabbix-agent/system.disk.usage)>90"
DISK_WARNING_STATUS="last(/kevin-telemetry-zabbix-agent/system.disk.warning)>0"

# Temperature Triggers
TEMP_HIGH="last(/kevin-telemetry-zabbix-agent/system.temperature)>70"
TEMP_CRITICAL="last(/kevin-telemetry-zabbix-agent/system.temperature)>80"
TEMP_WARNING_STATUS="last(/kevin-telemetry-zabbix-agent/system.temperature.warning)>0"

# Power Triggers
BATTERY_LOW="last(/kevin-telemetry-zabbix-agent/power.battery.charge)<20"
BATTERY_CRITICAL="last(/kevin-telemetry-zabbix-agent/power.battery.charge)<10"
ON_BATTERY_POWER="last(/kevin-telemetry-zabbix-agent/power.battery.status)=1"
UPS_LOW_RUNTIME="last(/kevin-telemetry-zabbix-agent/power.ups.runtime)<30"
POWER_WARNING_STATUS="last(/kevin-telemetry-zabbix-agent/power.warning)>0"

# System Health Triggers
SYSTEM_HEALTH_LOW="last(/kevin-telemetry-zabbix-agent/health.comprehensive)<70"
SYSTEM_HEALTH_CRITICAL="last(/kevin-telemetry-zabbix-agent/health.comprehensive)<50"
CRITICAL_SERVICES_DOWN="last(/kevin-telemetry-zabbix-agent/health.critical.services)>0"
NETWORK_CONNECTIVITY_ISSUES="last(/kevin-telemetry-zabbix-agent/health.network)>0"
FILESYSTEM_ISSUES="last(/kevin-telemetry-zabbix-agent/health.filesystem)>0"

# Alert Messages Templates
ALERT_MESSAGE_CPU_HIGH="üö® CPU Usage Alert: {HOST.NAME} CPU usage is {ITEM.LASTVALUE}% (threshold: 80%)"
ALERT_MESSAGE_CPU_CRITICAL="üî• CPU Critical Alert: {HOST.NAME} CPU usage is {ITEM.LASTVALUE}% (threshold: 90%)"
ALERT_MESSAGE_MEMORY_HIGH="üö® Memory Usage Alert: {HOST.NAME} Memory usage is {ITEM.LASTVALUE}% (threshold: 80%)"
ALERT_MESSAGE_DISK_HIGH="üö® Disk Usage Alert: {HOST.NAME} Disk usage is {ITEM.LASTVALUE}% (threshold: 80%)"
ALERT_MESSAGE_TEMP_HIGH="üå°Ô∏è Temperature Alert: {HOST.NAME} Temperature is {ITEM.LASTVALUE}¬∞C (threshold: 70¬∞C)"
ALERT_MESSAGE_BATTERY_LOW="üîã Battery Alert: {HOST.NAME} Battery charge is {ITEM.LASTVALUE}% (threshold: 20%)"
ALERT_MESSAGE_ON_BATTERY="‚ö° Power Alert: {HOST.NAME} is running on battery power"
ALERT_MESSAGE_SYSTEM_HEALTH="üè• System Health Alert: {HOST.NAME} health score is {ITEM.LASTVALUE}/100"

# Recovery Messages
RECOVERY_MESSAGE_CPU="‚úÖ CPU Usage Recovered: {HOST.NAME} CPU usage is now {ITEM.LASTVALUE}%"
RECOVERY_MESSAGE_MEMORY="‚úÖ Memory Usage Recovered: {HOST.NAME} Memory usage is now {ITEM.LASTVALUE}%"
RECOVERY_MESSAGE_DISK="‚úÖ Disk Usage Recovered: {HOST.NAME} Disk usage is now {ITEM.LASTVALUE}%"
RECOVERY_MESSAGE_TEMP="‚úÖ Temperature Recovered: {HOST.NAME} Temperature is now {ITEM.LASTVALUE}¬∞C"
RECOVERY_MESSAGE_BATTERY="‚úÖ Battery Recovered: {HOST.NAME} Battery charge is now {ITEM.LASTVALUE}%"
RECOVERY_MESSAGE_AC_POWER="‚úÖ AC Power Restored: {HOST.NAME} is back on AC power"
RECOVERY_MESSAGE_SYSTEM_HEALTH="‚úÖ System Health Recovered: {HOST.NAME} health score is now {ITEM.LASTVALUE}/100"

# Action Conditions
ACTION_CONDITION_CRITICAL="{TRIGGER.SEVERITY}={SEVERITY_DISASTER} or {TRIGGER.SEVERITY}={SEVERITY_HIGH}"
ACTION_CONDITION_WARNING="{TRIGGER.SEVERITY}={SEVERITY_AVERAGE} or {TRIGGER.SEVERITY}={SEVERITY_WARNING}"
ACTION_CONDITION_INFO="{TRIGGER.SEVERITY}={SEVERITY_INFO}"

# Maintenance Windows
MAINTENANCE_WINDOW_DAILY="0 2 * * *"      # Daily maintenance at 2 AM
MAINTENANCE_WINDOW_WEEKLY="0 2 * * 0"     # Weekly maintenance on Sunday at 2 AM
MAINTENANCE_WINDOW_MONTHLY="0 2 1 * *"    # Monthly maintenance on 1st at 2 AM

# Monitoring Intervals (in seconds)
INTERVAL_FAST=30              # Fast monitoring interval
INTERVAL_NORMAL=60            # Normal monitoring interval
INTERVAL_SLOW=300             # Slow monitoring interval
INTERVAL_VERY_SLOW=900        # Very slow monitoring interval

# Data Retention Settings
HISTORY_RETENTION_DAYS=30     # Keep history data for 30 days
TRENDS_RETENTION_DAYS=365     # Keep trends data for 1 year
EVENTS_RETENTION_DAYS=90      # Keep events for 90 days

# Performance Settings
MAX_CONCURRENT_CHECKS=100     # Maximum concurrent checks
CACHE_SIZE_MB=128             # Cache size in MB
TIMEOUT_DEFAULT=30            # Default timeout in seconds
TIMEOUT_FAST=10               # Fast timeout in seconds
TIMEOUT_SLOW=60               # Slow timeout in seconds
