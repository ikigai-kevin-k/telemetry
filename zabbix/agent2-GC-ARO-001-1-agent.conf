# Zabbix Agent2 Configuration File for GC-aro11-agent
# This file is used to configure the Zabbix Agent2

# Basic agent settings
Server=100.64.0.113,172.18.0.1
ServerActive=100.64.0.113
Hostname=GC-aro11-agent

# Enable persistent buffer
EnablePersistentBuffer=1
PersistentBufferFile=/var/lib/zabbix/agent2_persistent_buffer.db

# Log settings
LogType=console
LogFileSize=1
DebugLevel=3

# Custom script directory
UserParameter=zcam.status,/var/lib/zabbix/scripts/check_zcam_status.sh

# System monitoring parameters
UserParameter=system.cpu.usage,/var/lib/zabbix/scripts/system_monitor.sh cpu_usage
UserParameter=system.memory.usage,/var/lib/zabbix/scripts/system_monitor.sh memory_usage
UserParameter=system.disk.usage,/var/lib/zabbix/scripts/system_monitor.sh disk_usage
UserParameter=system.disk.usage.mount[*],/var/lib/zabbix/scripts/system_monitor.sh disk_usage_mount $1
UserParameter=system.load.average,/var/lib/zabbix/scripts/system_monitor.sh load_average
# UserParameter=system.uptime,/var/lib/zabbix/scripts/system_monitor.sh uptime  # Commented out - conflicts with built-in key
UserParameter=system.temperature,/var/lib/zabbix/scripts/system_monitor.sh temperature
UserParameter=system.network.status[*],/var/lib/zabbix/scripts/system_monitor.sh network_status $1
UserParameter=system.health.score,/var/lib/zabbix/scripts/system_monitor.sh system_health

# System warning parameters
UserParameter=system.cpu.warning,/var/lib/zabbix/scripts/system_monitor.sh cpu_warning
UserParameter=system.memory.warning,/var/lib/zabbix/scripts/system_monitor.sh memory_warning
UserParameter=system.disk.warning,/var/lib/zabbix/scripts/system_monitor.sh disk_warning
UserParameter=system.temperature.warning,/var/lib/zabbix/scripts/system_monitor.sh temperature_warning
UserParameter=system.high.load,/var/lib/zabbix/scripts/system_monitor.sh high_load

# Power monitoring parameters
UserParameter=power.battery.status,/var/lib/zabbix/scripts/power_monitor.sh battery_power
UserParameter=power.battery.charge,/var/lib/zabbix/scripts/power_monitor.sh battery_charge
